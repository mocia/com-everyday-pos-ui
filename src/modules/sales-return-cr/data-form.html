<template>
    <require from="customs/elements/horsey"></require>
    <form class="form-horizontal">

        <!--<store-auto-suggest label="Toko" value.bind="data.store" error.bind="error.storeId" read-only.bind="readOnly" change.delegate="storeChanged($event)"></store-auto-suggest>
        -->

        <!--<div class="form-group ${error.storeId?'has-error':''}">
            <label for="store" class="col-sm-2 control-label">Toko</label>
            <div class="col-sm-10"> 
                <select class="form-control" name="storeId" value.bind="data.storeId"> 
                    <option repeat.for="store of stores" value="${store._id}">${store.name}</option>
                </select>
                <span class="help-block">${error.storeId}</span>
            </div>
        </div>-->


        <!--<div class="form-group ${error.shift?'has-error':''}">
            <label for="shift" class="col-sm-2 control-label">Shift</label>
            <div class="col-sm-10"> 
                <input type="number" class="form-control" name="shift" value.bind="data.shift" readonly/>  
                <span class="help-block">${error.shift}</span>
            </div>
        </div>-->

        <returnable-auto-suggest label="Nomor Transaksi" value.bind="data.sales" error.bind="error.reference" read-only.bind="readOnly"
            change.delegate="salesChanged($event)"></returnable-auto-suggest>

        <!--<div class="form-group ${error.reference?'has-error':''}">
            <label for="reference" class="col-sm-2 control-label">Nomor Transaksi</label>
            <div class="col-sm-10"> 
                <horsey src.bind="salesApiUri" selection.bind="data.sales" value.bind="data.reference" options.bind="{value:'_id', label:'code'}"></horsey>
                <span class="help-block">${error.reference}</span>
            </div>
        </div> -->

        <textbox label="Toko Asal" value.bind="data.sales.store.Name" read-only.bind="true"></textbox>

        <!--<div class="form-group">
            <label for="tokoAsal" class="col-sm-2 control-label">Toko Asal</label>
            <div class="col-sm-10"> 
                <input type="text" class="form-control" name="tokoAsal" value.bind="data.sales.store.name" readonly/>  
            </div>
        </div>
        -->
        <datepicker label="Tanggal Transaksi" value.bind="data.date" error.bind="error.date"></datepicker>

        <!--<div class="form-group ${error.date?'has-error':''}">
            <label for="date" class="col-sm-2 control-label">Tanggal Transaksi</label>
            <div class="col-sm-10"> 
                <input type="date" class="form-control" name="date" value.bind="data.datePicker" change.delegate="setDate()"/>  
                <span class="help-block">${error.date}</span>
            </div>
        </div>
        -->
        <textbox label="Keterangan" value.bind="data.remark" error.bind="error.remark"></textbox>
        <!--<div class="form-group ${error.remark?'has-error':''}">
            <label for="description" class="col-sm-2 control-label">Keterangan</label>
            <div class="col-sm-10"> 
                <input type="text" class="form-control" name="remark" value.bind="data.remark"/>  
                <span class="help-block">${error.remark}</span>
            </div>
        </div> -->

        <div class="${error.items?'has-error':''}">
            <button click.delegate="addItem()" class="btn btn-success btn-sm pull-right">Tambah Retur</button>
            <table class="table table-bordered">
                <tr repeat.for="item of data.items">
                    <td colspan="12">
                        <table class="table table-bordered">
                            <thead>
                                <tr>
                                    <th>No.</th>
                                    <th>Produk</th>
                                    <th>Qty</th>
                                    <th>Qty Retur</th>
                                    <th>Harga</th>
                                    <th>Diskon 1 (%)</th>
                                    <th>Diskon 2 (%)</th>
                                    <th>Diskon Nominal</th>
                                    <th>Diskon Spesial</th>
                                    <th>Margin (%)</th>
                                    <th>Total</th>
                                    <th><button href="#" class="btn btn-danger btn-sm pull-right" click.delegate="removeItem(item)">Hapus Retur</button></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>${$index+1}</td>
                                    <td>
                                        <dropdown label="" value.bind="item.item" error.bind="error.items[$index].itemId" read-only.bind="readOnly" items.bind="itemReturs">

                                            <!--<div class="form-group ${error.items[$index].itemId?'has-error':''}">
                                            <select class="form-control" name="item" value.bind="item.itemId">
                                                <option value=""></option>
                                                <option repeat.for="itemRetur of itemReturs" value="${itemRetur.itemId}">${itemRetur.item.name}</option>
                                            </select>
                                            <span class="help-block">${error.items[$index].itemId}</span>
                                        </div>-->
                                    </td>
                                    <td>
                                        <numeric label="" value.bind="item.quantityPurchase" error.bind="error.items[$index].quantityPurchase" change.delegate="sumRow(item)"
                                            read-only.bind="readOnlyTrue"></numeric>
                                        <!--<div class="form-group ${error.items[$index].quantityPurchase?'has-error':''}">
                                            <input class="form-control" type="number" name="quantityPurchase" value.bind="item.quantityPurchase" change.delegate="sumRow(item)" readonly/>
                                            <span class="help-block">${error.items[$index].quantityPurchase}</span>
                                        </div>-->
                                    </td>
                                    <td>
                                        <numeric label="" value.bind="item.quantity" error.bind="error.items[$index].quantity" change.delegate="sumRow(item)" read-only.bind="readOnlyFalse"></numeric>
                                        <!--<div class="form-group ${error.items[$index].quantity?'has-error':''}">
                                            <input class="form-control" type="number" name="quantity" value.bind="item.quantity" change.delegate="sumRow(item)" />
                                            <span class="help-block">${error.items[$index].quantity}</span>
                                        </div>-->
                                    </td>
                                    <td>
                                        <numeric label="" value.bind="item.price" error.bind="error.items[$index].price" change.delegate="sumRow(item)" read-only.bind="readOnlyTrue"></numeric>
                                        <!--<div class="form-group ${error.items[$index].price?'has-error':''}">
                                            <input class="form-control" type="number" name="price" value.bind="item.price" change.delegate="sumRow(item)" readonly/>
                                            <span class="help-block">${error.items[$index].price}</span>
                                        </div>-->
                                    </td>
                                    <td>
                                        <numeric label="" value.bind="item.discount1" error.bind="error.items[$index].discount1" change.delegate="sumRow(item)" read-only.bind="readOnlyTrue"></numeric>
                                        <!--<div class="form-group ${error.items[$index].discount1?'has-error':''}">
                                            <input class="form-control" type="number" name="discount1" value.bind="item.discount1" change.delegate="sumRow(item)" readonly/>
                                            <span class="help-block">${error.items[$index].discount1}</span>
                                        </div>-->
                                    </td>
                                    <td>
                                        <numeric label="" value.bind="item.discount2" error.bind="error.items[$index].discount2" change.delegate="sumRow(item)" read-only.bind="readOnlyTrue"></numeric>
                                        <!--<div class="form-group ${error.items[$index].discount2?'has-error':''}">
                                            <input class="form-control" type="number" name="discount2" value.bind="item.discount2" change.delegate="sumRow(item)" readonly/>
                                            <span class="help-block">${error.items[$index].discount2}</span>
                                        </div>-->
                                    </td>
                                    <td>
                                        <numeric label="" value.bind="item.discountNominal" error.bind="error.items[$index].discountNominal" change.delegate="sumRow(item)"
                                            read-only.bind="readOnlyTrue"></numeric>
                                        <!--<div class="form-group ${error.items[$index].discountNominal?'has-error':''}">
                                            <input class="form-control" type="number" name="discount2" value.bind="item.discountNominal" change.delegate="sumRow(item)" readonly/>
                                            <span class="help-block">${error.items[$index].discountNominal}</span>
                                        </div>-->
                                    </td>
                                    <td>
                                        <numeric label="" value.bind="item.specialDiscount" error.bind="error.items[$index].specialDiscount" change.delegate="sumRow(item)"
                                            read-only.bind="readOnlyTrue"></numeric>
                                        <!--<div class="form-group ${error.items[$index].specialDiscount?'has-error':''}"> 
                                            <input class="form-control" type="number" name="specialDiscount" value.bind="item.specialDiscount" change.delegate="sumRow(item)" readonly/>
                                            <span class="help-block">${error.items[$index].specialDiscount}</span>
                                        </div>-->
                                    </td>
                                    <td>
                                        <numeric label="" value.bind="item.margin" error.bind="error.items[$index].margin" change.delegate="sumRow(item)" read-only.bind="readOnlyTrue"></numeric>
                                        <!--<div class="form-group ${error.items[$index].margin?'has-error':''}">
                                            <input class="form-control" type="number" name="margin" value.bind="item.margin" change.delegate="sumRow(item)" readonly/>
                                            <span class="help-block">${error.items[$index].margin}</span>
                                        </div>-->
                                    </td>
                                    <td>
                                        <numeric label="" value.bind="item.total" error.bind="error.items[$index].total" read-only.bind="readOnlyTrue"></numeric>
                                        <!--<div class="form-group ${error.items[$index].total?'has-error':''}">
                                            <input class="form-control" type="number" name="total" value.bind="item.total" readonly />
                                            <span class="help-block">${error.items[$index].total}</span>
                                        </div>-->
                                    </td>
                                    <td> <button click.delegate="addItemDetail($index)" class="btn btn-success btn-sm pull-right">Tambah Produk Baru</button>                                        </td>
                                </tr>
                                <tr if.bind="item.returnItems.length > 0">
                                    <td></td>
                                    <td colspan="11">
                                        <table class="table table-bordered">
                                            <thead>
                                                <tr>
                                                    <th>No.</th>
                                                    <th>Barcode</th>
                                                    <th>Produk</th>
                                                    <th>Qty</th>
                                                    <th>Harga</th>
                                                    <th>Diskon 1 (%)</th>
                                                    <th>Diskon 2 (%)</th>
                                                    <th>Diskon Nominal</th>
                                                    <th>Diskon Spesial</th>
                                                    <th>Margin (%)</th>
                                                    <th>Total</th>
                                                    <th></th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr repeat.for="returnItem of item.returnItems">
                                                    <td>${$index+1}</td>
                                                    <td style="min-width: 150px">
                                                         <!--<div class="form-group ${error.items[$parent.$index].returnItems[$index].itemCode?'has-error':''}">  
                                                            <input type="text" class="form-control" name="itemCode" focus.bind="returnItem.itemCodeFocus" readonly.bind="returnItem.itemCodeReadonly" value.bind="returnItem.itemCode" keypress.delegate="onEnterProduct($event, item, returnItem)"/>  
                                                            <span class="help-block">${error.items[$parent.$index].returnItems[$index].itemCode}</span> 
                                                        </div>-->
                                                        <textbox label="" focus.bind="returnItem.itemCodeFocus" error.bind="error.items[$parent.$index].returnItems[$index].itemCode"
                                                        read-only.bind="returnItem.itemCodeReadonly" value.bind="returnItem.itemCode" keypress.delegate="onEnterProduct($event, item, returnItem)">
                                                        </textbox>

                                                    </td>
                                                    <td>
                                                    <!--<div class="form-group ${error.items[$parent.$index].returnItems[$index].itemId?'has-error':''}">
                                                        <input type="text" class="form-control" name="itemName" value.bind="returnItem.item.name" readonly/>
                                                        <span class="help-block">${error.items[$parent.$index].returnItems[$index].itemId}</span>
                                                    </div>-->

                                                    <textbox label="" error.bind="error.items[$parent.$index].returnItems[$index].itemId" read-only.bind="true" value.bind="returnItem.item.name"></textbox>
                            

                                                    </td>
                                                    <td>
                                                        <numeric label="" value.bind="returnItem.quantity" error.bind="error.items[$parent.$index].returnItems[$index].quantity"
                                                            change.delegate="sumRow(returnItem)" read-only.bind="readOnlyFalse"></numeric>
                                                        <!--<div class="form-group ${error.items[$parent.$index].returnItems[$index].quantity?'has-error':''}">
                                                                                                                <input class="form-control" type="number" name="quantity" value.bind="returnItem.quantity" change.delegate="sumRow(returnItem)"/>
                                                                                                                <span class="help-block">${error.items[$parent.$index].returnItems[$index].quantity}</span>
                                                                                                            </div>-->
                                                    </td>
                                                    <td>
                                                        <numeric options.bind="numericOptions" label="" value.bind="returnItem.price" error.bind="error.items[$parent.$index].returnItems[$index].price" change.delegate="sumRow(returnItem)"
                                                            read-only.bind="readOnlyTrue"></numeric>
                                                        <!--<div class="form-group ${error.items[$parent.$index].returnItems[$index].price?'has-error':''}">
                                                                                                                <input class="form-control" type="number" name="price" value.bind="returnItem.price" change.delegate="sumRow(returnItem)" readonly/>
                                                                                                                <span class="help-block">${error.items[$parent.$index].returnItems[$index].price}</span>
                                                                                                            </div>-->
                                                    </td>
                                                    <td>
                                                        <numeric options.bind="numericOptions" label="" value.bind="returnItem.discount1" error.bind="error.items[$parent.$index].returnItems[$index].discount1"
                                                            change.delegate="sumRow(returnItem, null, $event)" read-only.bind="readOnlyFalse"></numeric>
                                                        <!--<div class="form-group ${error.items[$parent.$index].returnItems[$index].discount1?'has-error':''}">
                                                                                                                <input class="form-control" type="number" name="discount1" value.bind="returnItem.discount1" change.delegate="sumRow(returnItem)"/>
                                                                                                                <span class="help-block">${error.items[$parent.$index].returnItems[$index].discount1}</span>
                                                                                                            </div>-->
                                                    </td>
                                                    <td>
                                                        <numeric options.bind="numericOptions" label="" value.bind="returnItem.discount2" error.bind="error.items[$parent.$index].returnItems[$index].discount2"
                                                            change.delegate="sumRow(returnItem,null, null, $event)" read-only.bind="readOnlyFalse"></numeric>
                                                        <!--<div class="form-group ${error.items[$parent.$index].returnItems[$index].discount2?'has-error':''}">
                                                                                                                <input class="form-control" type="number" name="discount2" value.bind="returnItem.discount2" change.delegate="sumRow(returnItem)"/>
                                                                                                                <span class="help-block">${error.items[$parent.$index].returnItems[$index].discount2}</span>
                                                                                                            </div>-->
                                                    </td>
                                                    <td>
                                                        <numeric options.bind="numericOptions" label="" value.bind="returnItem.discountNominal" error.bind="error.items[$parent.$index].returnItems[$index].discountNominal"
                                                            change.delegate="sumRow(returnItem,null,null, null, $event)" read-only.bind="readOnlyFalse"></numeric>
                                                        <!--<div class="form-group ${error.items[$parent.$index].returnItems[$index].discountNominal?'has-error':''}">
                                                                                                                <input class="form-control" type="number" name="discountNominal" value.bind="returnItem.discountNominal" change.delegate="sumRow(returnItem)"/>
                                                                                                                <span class="help-block">${error.items[$parent.$index].returnItems[$index].discountNominal}</span>
                                                                                                            </div>-->
                                                    </td>
                                                    <td style="min-width: 100px">
                                                        <dropdown label="" value.bind="returnItem.specialDiscount" error.bind="error.items[$parent.$index].returnItems[$index].specialDiscount"
                                                        change.delegate="sumRow(returnItem,$event)" items.bind="discounts"></dropdown>

                                                    <!--<div class="form-group ${error.items[$parent.$index].returnItems[$index].specialDiscount?'has-error':''}"> 
                                                        <select class="form-control" name="specialDiscount" value.bind="returnItem.specialDiscount" change.delegate="sumRow(returnItem)"/>
                                                            <option value="0">0%</option>
                                                            <option value="5">5%</option>
                                                            <option value="10">10%</option>
                                                            <option value="15">15%</option>
                                                            <option value="20">20%</option>
                                                            <option value="25">25%</option>
                                                            <option value="30">30%</option>
                                                            <option value="35">35%</option>
                                                            <option value="40">40%</option>
                                                            <option value="45">45%</option>
                                                            <option value="50">50%</option>
                                                            <option value="55">55%</option>
                                                            <option value="60">60%</option>
                                                            <option value="65">65%</option>
                                                            <option value="70">70%</option>
                                                            <option value="75">75%</option>
                                                            <option value="80">80%</option>
                                                            <option value="85">85%</option>
                                                            <option value="90">90%</option>
                                                            <option value="95">95%</option>
                                                            <option value="100">100%</option>
                                                        </select>
                                                        <span class="help-block">${error.items[$parent.$index].returnItems[$index].specialDiscount}</span>
                                                    </div>-->
                                                    </td>
                                                    <td>
                                                        <numeric options.bind="numericOptions" label="" value.bind="returnItem.margin" error.bind="error.items[$parent.$index].returnItems[$index].margin" change.delegate="sumRow(returnItem,null,null,null, null, $event)"
                                                            read-only.bind="readOnlyFalse"></numeric>
                                                        <!--<div class="form-group ${error.items[$parent.$index].returnItems[$index].margin?'has-error':''}">
                                                                                                                <input class="form-control" type="number" name="margin" value.bind="returnItem.margin" change.delegate="sumRow(returnItem)"/>
                                                                                                                <span class="help-block">${error.items[$parent.$index].returnItems[$index].margin}</span>
                                                                                                            </div>-->
                                                    </td>
                                                    <td>
                                                        <numeric label="" value.bind="returnItem.total" error.bind="error.items[$parent.$index].returnItems[$index].total" read-only.bind="readOnlyTrue"></numeric>
                                                        <!--<div class="form-group ${error.items[$parent.$index].returnItems[$index].total?'has-error':''}">
                                                                                                                <input class="form-control" type="number" name="total" value.bind="returnItem.total" readonly />
                                                                                                                <span class="help-block">${error.items[$parent.$index].returnItems[$index].total}</span>
                                                                                                            </div>-->
                                                    </td>
                                                    <td> <button href="#" class="btn btn-danger btn-sm pull-right" click.delegate="removeItemDetail($parent.$index, returnItem)">Hapus Produk Baru</button>    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </td>
                </tr>
            </table>
            <table class="table table-bordered">
                <tr if.bind="data.items.length > 0">
                    <td colspan="10" style="text-align:right;">Total Qty</td>
                    <td style="text-align:right;">
                        <numeric label="" value.bind="data.totalProduct" error.bind="error.totalProduct" read-only.bind="readOnlyTrue"></numeric>
                    </td>
                    <td></td>
                </tr>
                <tr if.bind="data.items.length > 0">
                    <td colspan="10" style="text-align:right;">Sub Total Barang Retur</td>
                    <td style="text-align:right;">
                        <numeric label="" value.bind="data.subTotalRetur" read-only.bind="readOnlyTrue"></numeric> 
                    </td>
                    <td></td>
                </tr>
                <tr if.bind="data.items.length > 0">
                    <td colspan="10" style="text-align:right;">Sub Total Barang Baru</td>
                    <td style="text-align:right;">
                        <numeric label="" value.bind="data.subTotal" read-only.bind="readOnlyTrue"></numeric>  
                    </td>
                    <td></td>
                </tr>
                <tr if.bind="data.items.length > 0">
                    <td colspan="10" style="text-align:right;">Grand Total</td>
                    <td style="text-align:right;">
                        <numeric label="" value.bind="data.grandTotal" read-only.bind="readOnlyTrue"></numeric> 
                    </td>
                    <td></td>
                </tr>
            </table>
            <!--<span class="help-block">${error.items}</span>-->
        </div>
    </form>

    <hr>
    
    <div class="col-sm-12">
        <form class="form-horizontal">
            <div class="form-group" if.bind="isPromos">
                <div class="row">
                    <div class="col-md-1"></div>
                    <div class="col-md-4"><strong>PROMO :</strong></div>
                </div>
                <br>
                <ol>
                    <ul repeat.for="promo of promos">
                        <div class="col-sm-4">
                            <label>
                                <input type="checkbox" model.bind="promo._id" checked.bind="data.salesDetail.promoDoc"> ${promo.name}
                            </label>
                        </div>
                    </ul>
                </ol>
            </div>
            
            <div class="row">
                <div class="col-md-8">
                    <dropdown label="Tipe Pembayaran" error.bind="error.paymentType" value.bind="data.salesDetail.paymentType" change.delegate="checkPaymentType($event)"
                    items.bind="paymentTypes"></dropdown> 
                </div>
                <div class="col-md-4">
                    <numeric label="Total Bayar" value.bind="data.grandTotal" error.bind="error.grandTotal" read-only.bind="readOnlyTrue"></numeric>  
                </div>
            </div>

            <div class="row">
                <div class="col-md-8">
                    <numeric label="Voucher" value.bind="data.salesDetail.voucher.value" error.bind="error.salesDetail.voucher.value" read-only.bind="readOnlyFalse"></numeric>
                </div>
                <div class="col-md-4">
                    <numeric label="Sisa Bayar" value.bind="data.sisaBayar" error.bind="error.sisaBayar" read-only.bind="readOnlyTrue"></numeric>  
                </div>
            </div>

            <div class="row">
                <div class="col-md-8">
                    <radiobutton label="Kartu" value.bind="data.salesDetail.card" error.bind="error.card" selections.bind="cards"
                    if.bind="isCard"></radiobutton> 
                </div>
                <div class="col-md-4">
                    <numeric label="Card" value.bind="data.salesDetail.cardAmount" error.bind="error.salesDetail.cardAmount" read-only.bind="readOnlyTrue"
                    if.bind="isCard"></numeric>  
                </div>
            </div>

            <div class="row">
                <div class="col-md-8">
                    <dropdown label="Jenis Kartu" value.bind="data.salesDetail.cardType" error.bind="error.cardTypeId" items.bind="CardTypes"
                    if.bind="isCard"></dropdown> 
                </div>
                <div class="col-md-4">
                    <numeric label="Cash" value.bind="data.salesDetail.cashAmount" error.bind="error.salesDetail.cashAmount" read-only.bind="readOnlyFalse"
                    if.bind="isCash"></numeric>  
                </div>
            </div>

            <div class="row">
                <div class="col-md-8">
                    <dropdown label="Bank (EDC)" value.bind="data.salesDetail.bank" error.bind="error.bankId" items.bind="Banks"
                    if.bind="isCard"></dropdown>
                </div>
                <div class="col-md-4">
                    <strong><numeric label="Kembali" value.bind="data.salesDetail.refund" error.bind="error.salesDetail.refund" read-only.bind="readOnlyTrue"></numeric></strong>  
                </div>
            </div>

            <div class="row">
                <div class="col-md-8">
                    <dropdown label="Bank (Kartu)" value.bind="data.salesDetail.bankCard" error.bind="error.bankCardId" items.bind="Banks" if.bind="isCard"></dropdown>  
                </div>
            </div>

            <div class="row">
                <div class="col-md-8">
                    <textbox label="Nomor Kartu" value.bind="data.salesDetail.cardNumber" error.bind="error.cardNumber" if.bind="isCard"></textbox>      
                </div>
            </div>

            <div class="row">
                <div class="col-md-8">
                    <textbox label="Nama Kartu" value.bind="data.salesDetail.cardName" error.bind="error.cardName" if.bind="isCard"></textbox>
                </div>
            </div>

        </form>
    </div>

<!-- <div>
    <form class="form-horizontal">
        <div class="form-group" if.bind="isPromos">
            <div class="row">
                <div class="col-md-1"></div>
                <div class="col-md-4"><strong>PROMO :</strong></div>
            </div>
            <br>
            <ol>
                <ul repeat.for="promo of promos">
                    <div class="col-sm-4">
                        <label>
                            <input type="checkbox" model.bind="promo._id" checked.bind="data.salesDetail.promoDoc"> ${promo.name}
                        </label>
                    </div>
                </ul>
            </ol>
        </div>
        <numeric label="Total Qty" value.bind="data.totalProduct" error.bind="error.totalProduct" read-only.bind="readOnlyTrue"></numeric> -->
        <!--<div class="form-group">
                <label for="totalProduct" class="col-sm-2 control-label">Total Qty</label>
                <div class="col-sm-10"> 
                    <input type="number" class="form-control" name="totalProduct" value.bind="data.totalProduct" readonly/> 
                </div>
            </div>-->
        <!-- <dropdown label="Tipe Pembayaran" error.bind="error.paymentType" value.bind="data.salesDetail.paymentType" change.delegate="checkPaymentType($event)"
            items.bind="paymentTypes"></dropdown> -->

        <!--<div class="form-group ${error.salesDetail.paymentType?'has-error':''}">
                <label for="paymentType" class="col-sm-2 control-label">Tipe Pembayaran</label>
                <div class="col-sm-10">
                    <select class="form-control" name="paymentType" value.bind="data.salesDetail.paymentType" change.delegate="checkPaymentType()">
                        <option value=""></option>
                        <option value="Cash">Cash</option>
                        <option value="Card">Card</option>
                        <option value="Partial">Partial</option> 
                    </select>
                    <span class="help-block">${error.salesDetail.paymentType}</span>
                </div>
            </div>  -->

        <!-- <radiobutton label="Kartu" value.bind="data.salesDetail.card" error.bind="error.card" selections.bind="cards"
            if.bind="isCard"></radiobutton> -->

        <!--<div class="form-group ${error.salesDetail.card?'has-error':''}" if.bind="isCard"> 
                <label for="card" class="col-sm-2 control-label">Jenis Kartu</label>
                <div class="col-sm-10"> 
                    <input type="radio" name="card" checked.bind="data.salesDetail.card" value="Debit"/> Debit
                    <input type="radio" name="card" checked.bind="data.salesDetail.card" value="Credit"/> Kredit  
                    <span class="help-block">${error.salesDetail.card}</span>
                </div>
            </div> -->
        <!-- <dropdown label="Jenis Kartu" value.bind="data.salesDetail.cardType" error.bind="error.cardTypeId" items.bind="CardTypes"
            if.bind="isCard"></dropdown> -->
        <!--
            <div class="form-group ${error.salesDetail.cardTypeId?'has-error':''}" if.bind="isCard">
                <label for="cardTypeId" class="col-sm-2 control-label">Kartu</label>
                <div class="col-sm-10">
                    <select class="form-control" name="cardType" value.bind="data.salesDetail.cardTypeId"> 
                        <option value=""></option>
                        <option repeat.for="cardType of CardTypes" value="${cardType._id}">${cardType.name}</option>
                    </select>
                    <span class="help-block">${error.salesDetail.cardTypeId}</span>
                </div>
            </div>  -->
        <!-- <dropdown label="Bank (EDC)" value.bind="data.salesDetail.bank" error.bind="error.bankId" items.bind="Banks"
            if.bind="isCard"></dropdown> -->
        <!--
            <div class="form-group ${error.salesDetail.bankId?'has-error':''}" if.bind="isCard">
                <label for="bankId" class="col-sm-2 control-label">Bank (EDC)</label>
                <div class="col-sm-10">
                    <select class="form-control" name="bank" value.bind="data.salesDetail.bankId">
                        <option value=""></option>
                        <option repeat.for="bank of Banks" value="${bank._id}">${bank.name}</option>
                    </select>
                    <span class="help-block">${error.salesDetail.bankId}</span>
                </div>
            </div>-->
       <!-- <dropdown label="Bank (Kartu)" value.bind="data.salesDetail.bankCard" error.bind="error.bankCardId" items.bind="Banks" if.bind="isCard"></dropdown> -->
             <!--<div class="form-group ${error.salesDetail.bankCardId?'has-error':''}" if.bind="isCard">
            <label for="bankCardId" class="col-sm-2 control-label">Bank (Kartu)</label>
            <div class="col-sm-10">
                <select class="form-control" name="bankCard" value.bind="data.salesDetail.bankCardId">
                        <option value=""></option>
                        <option repeat.for="bank of Banks" value="${bank._id}">${bank.name}</option>
                    </select>
                <span class="help-block">${error.salesDetail.bankCardId}</span>
            </div>-->
        <!--</div>-->
        <!-- <textbox label="Nomor Kartu" value.bind="data.salesDetail.cardNumber" error.bind="error.cardNumber" if.bind="isCard"></textbox> -->
        
        <!--<div class="form-group ${error.salesDetail.cardNumber?'has-error':''}" if.bind="isCard">
            <label for="cardNumber" class="col-sm-2 control-label">Nomor Kartu</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" name="cardNumber" value.bind="data.salesDetail.cardNumber" />
                <span class="help-block">${error.salesDetail.cardNumber}</span>
            </div>
        </div>-->
        <!-- <textbox label="Nama Kartu" value.bind="data.salesDetail.cardName" error.bind="error.cardName" if.bind="isCard"></textbox> -->
             <!--<div class="form-group ${error.salesDetail.cardName?'has-error':''}" if.bind="isCard">
            <label for="cardName" class="col-sm-2 control-label">Nama Kartu</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" name="cardName" value.bind="data.salesDetail.cardName" />
                <span class="help-block">${error.salesDetail.cardName}</span>
            </div>
        </div>-->
        <!-- <numeric label="Total Bayar" value.bind="data.grandTotal" error.bind="error.grandTotal" read-only.bind="readOnlyTrue"></numeric> -->
        <!--<div class="form-group">
                <label for="grandTotal" class="col-sm-2 control-label">Total Bayar</label>
                <div class="col-sm-10"> 
                    <input type="number" class="form-control" name="grandTotal" value.bind="data.grandTotal" readonly/> 
                </div>
            </div>-->
        <!-- <numeric label="Voucher" value.bind="data.salesDetail.voucher.value" error.bind="error.salesDetail.voucher.value" read-only.bind="readOnlyFalse"></numeric> -->
        <!--<div class="form-group ${error.salesDetail.voucher.value?'has-error':''}">
                <label for="voucher" class="col-sm-2 control-label">Voucher</label>
                <div class="col-sm-10"> 
                    <input type="number" class="form-control" name="voucher" value.bind="data.salesDetail.voucher.value" change.delegate="refreshVoucher()"/>  
                    <span class="help-block">${error.salesDetail.voucher.value}</span>
                </div>
            </div> -->
        <!-- <numeric label="Sisa Bayar" value.bind="data.sisaBayar" error.bind="error.sisaBayar" read-only.bind="readOnlyTrue"></numeric> -->
        <!--<div class="form-group ${error.sisaBayar?'has-error':''}">
                <label for="sisaBayar" class="col-sm-2 control-label">Sisa Bayar</label>
                <div class="col-sm-10"> 
                    <input type="number" class="form-control" name="sisaBayar" value.bind="data.sisaBayar" readonly/> 
                    <span class="help-block">${error.sisaBayar}</span>  
                </div>
            </div>-->
        <!-- <numeric label="Card" value.bind="data.salesDetail.cardAmount" error.bind="error.salesDetail.cardAmount" read-only.bind="readOnlyTrue"
            if.bind="isCard"></numeric> -->
        <!--<div class="form-group ${error.salesDetail.cardAmount?'has-error':''}" if.bind="isCard">
                <label for="cardAmount" class="col-sm-2 control-label">Card</label>
                <div class="col-sm-10"> 
                    <input type="number" class="form-control" name="cardAmount" value.bind="data.salesDetail.cardAmount" change.delegate="refreshDetail()" readonly/>  
                    <span class="help-block">${error.salesDetail.cardAmount}</span>
                </div>
            </div> -->
        <!-- <numeric label="Cash" value.bind="data.salesDetail.cashAmount" error.bind="error.salesDetail.cashAmount" read-only.bind="readOnlyFalse"
            if.bind="isCash"></numeric> -->
        <!--<div class="form-group ${error.salesDetail.cashAmount?'has-error':''}" if.bind="isCash">
                <label for="cashAmount" class="col-sm-2 control-label">Cash</label>
                <div class="col-sm-10"> 
                    <input type="number" class="form-control" name="cashAmount" value.bind="data.salesDetail.cashAmount" change.delegate="refreshDetail()"/>  
                    <span class="help-block">${error.salesDetail.cashAmount}</span>
                </div>
            </div>-->

        <!-- <numeric label="Kembali" value.bind="data.salesDetail.refund" error.bind="error.salesDetail.refund" read-only.bind="readOnlyTrue"></numeric> -->
        <!--<div class="form-group">
                <label for="refund" class="col-sm-2 control-label">Kembali</label>
                <div class="col-sm-10"> 
                    <input type="number" class="form-control" name="refund" value.bind="data.salesDetail.refund" readonly/>   
                </div>
            </div> -->
    <!-- </form>
</div> -->
</template>